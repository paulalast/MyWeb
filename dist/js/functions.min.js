"use strict";function asyncGeneratorStep(e,r,t,o,n,a,c){try{var s=e[a](c),u=s.value}catch(e){return void t(e)}s.done?r(u):Promise.resolve(u).then(o,n)}function _asyncToGenerator(s){return function(){var e=this,c=arguments;return new Promise(function(r,t){var o=s.apply(e,c);function n(e){asyncGeneratorStep(o,r,t,n,a,"next",e)}function a(e){asyncGeneratorStep(o,r,t,n,a,"throw",e)}n(void 0)})}}require("regenerator-runtime/runtime");var username=document.querySelector("#username"),email=document.querySelector("#email"),message=document.querySelector("#textarea"),popup=document.querySelector(".form__popup"),closeBtn=document.querySelector(".form__popup-close");document.getElementById("contact-form").addEventListener("submit",function(e){e.preventDefault(),checkForm([username,email,message]),checkLength(username,2),checkEmail(email),checkErrors()});var showError=function(e,r){var t=e.parentElement,e=t.querySelector(".error-text");t.classList.add("error"),e.textContent=r},clearError=function(e){e.parentElement.classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)})},checkLength=function(e,r){e.value.length<r&&showError(e,"".concat(e.previousElementSibling.innerText.slice(0,-1)," must be at least ").concat(r," characters long."))},checkEmail=function(e){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?clearError(e):showError(e,"The email is invalid.")},checkErrors=function(){var e=document.querySelectorAll(".form-box"),r=0;return e.forEach(function(e){e.classList.contains("error")&&r++}),0===r&&(popup.classList.add("show-popup"),username.value="",email.value="",!(message.value=""))},closePopup=function(){popup.classList.remove("show-popup");document.querySelectorAll(".form-box")};closeBtn.addEventListener("click",closePopup),document.getElementById("contact-form").addEventListener("submit",function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),checkForm([username,email,message]),checkLength(username,2),checkEmail(email),checkErrors()){e.next=22;break}return e.prev=5,e.next=8,fetch("../../contact-form-handler.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:username.value,email:email.value,textarea:message.value})});case 8:if((t=e.sent).ok)return e.next=12,t.text();e.next=16;break;case 12:"Dziękuję! Twoja wiadomość została wysłana."===e.sent?(popup.classList.add("show-popup"),username.value="",email.value="",message.value=""):alert("Wystąpił problem z wysłaniem Twojej wiadomości. Proszę spróbować ponownie."),e.next=17;break;case 16:alert("Wystąpił problem z wysłaniem Twojej wiadomości. Proszę spróbować ponownie.");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),alert("Wystąpił problem z wysłaniem Twojej wiadomości. Proszę spróbować ponownie.");case 22:case"end":return e.stop()}},e,null,[[5,19]])}));return function(e){return r.apply(this,arguments)}}());
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bmN0aW9ucy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwidXNlcm5hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlbWFpbCIsIm1lc3NhZ2UiLCJwb3B1cCIsImNsb3NlQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNoZWNrRm9ybSIsImNoZWNrTGVuZ3RoIiwiY2hlY2tFbWFpbCIsIm1zZyIsInBhcmVudEVsZW1lbnQiLCJjaGVja0Vycm9ycyIsImZvcm1Cb3giLCJjbGFzc0xpc3QiLCJhZGQiLCJlcnJvck1zZyIsInNob3dFcnJvciIsImlucHV0IiwidGV4dENvbnRlbnQiLCJyZW1vdmUiLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwiZm9yRWFjaCIsIm1pbiIsImxlbmd0aCIsImNvbmNhdCIsInNsaWNlIiwiY2xlYXJFcnJvciIsImFsbElucHV0cyIsImNvbnRhaW5zIiwiZXJyb3JDb3VudCIsImNsb3NlUG9wdXAiLCJnZXRFbGVtZW50QnlJZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsImV2ZW50IiwicmVzcG9uc2UiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsImJvZHkiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0ZXh0YXJlYSIsInNlbnQiLCJhbGVydCIsInQwIiwic3RvcCIsIl94IiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIl0sIm1hcHBpbmdzIjoiMFlBQUFBLFFBQUEsK0JBQUEsSUFBQUMsU0FBQUMsU0FBQUMsY0FBQSxhQUdNQyxNQUFRRixTQUFTQyxjQUFjLFVBQy9CRSxRQUFVSCxTQUFTQyxjQUFjLGFBQ2pDRyxNQUFRSixTQUFTQyxjQUFjLGdCQUMvQkksU0FBV0wsU0FBU0MsY0FBYyxzQkFK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Q0FBQSxFQUFBLFNBQUEsT0FBQSxTQUFBa0IsR0FBQSxPQUFBdEIsRUFBQXVCLE1BQUFDLEtBQUFDLFlBQUEiLCJmaWxlIjoiZnVuY3Rpb25zLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZVwiXG5cbmNvbnN0IHVzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VybmFtZVwiKVxuY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtYWlsXCIpXG5jb25zdCBtZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0ZXh0YXJlYVwiKVxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3BvcHVwXCIpXG5jb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fcG9wdXAtY2xvc2VcIilcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0LWZvcm1cIikuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBlID0+IHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdGNoZWNrRm9ybShbdXNlcm5hbWUsIGVtYWlsLCBtZXNzYWdlXSlcblx0Y2hlY2tMZW5ndGgodXNlcm5hbWUsIDIpXG5cdGNoZWNrRW1haWwoZW1haWwpXG5cdGNoZWNrRXJyb3JzKClcbn0pXG5cbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50XG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLXRleHRcIilcblxuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKVxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZ1xufVxuXG5jb25zdCBjbGVhckVycm9yID0gaW5wdXQgPT4ge1xuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxuXHRmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKVxufVxuXG5jb25zdCBjaGVja0Zvcm0gPSBpbnB1dCA9PiB7XG5cdGlucHV0LmZvckVhY2goaW5wdXQgPT4ge1xuXHRcdGlmIChpbnB1dC52YWx1ZSA9PT0gXCJcIikge1xuXHRcdFx0c2hvd0Vycm9yKGlucHV0LCBpbnB1dC5wbGFjZWhvbGRlcilcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2xlYXJFcnJvcihpbnB1dClcblx0XHR9XG5cdH0pXG59XG5cbmNvbnN0IGNoZWNrTGVuZ3RoID0gKGlucHV0LCBtaW4pID0+IHtcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbikge1xuXHRcdHNob3dFcnJvcihcblx0XHRcdGlucHV0LFxuXHRcdFx0YCR7aW5wdXQucHJldmlvdXNFbGVtZW50U2libGluZy5pbm5lclRleHQuc2xpY2UoXG5cdFx0XHRcdDAsXG5cdFx0XHRcdC0xXG5cdFx0XHQpfSBtdXN0IGJlIGF0IGxlYXN0ICR7bWlufSBjaGFyYWN0ZXJzIGxvbmcuYFxuXHRcdClcblx0fVxufVxuXG5jb25zdCBjaGVja0VtYWlsID0gZW1haWwgPT4ge1xuXHRjb25zdCByZSA9XG5cdFx0L14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkL1xuXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xuXHRcdGNsZWFyRXJyb3IoZW1haWwpXG5cdH0gZWxzZSB7XG5cdFx0c2hvd0Vycm9yKGVtYWlsLCBcIlRoZSBlbWFpbCBpcyBpbnZhbGlkLlwiKVxuXHR9XG59XG5cbmNvbnN0IGNoZWNrRXJyb3JzID0gKCkgPT4ge1xuXHRjb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0tYm94XCIpXG5cdGxldCBlcnJvckNvdW50ID0gMFxuXG5cdGFsbElucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcblx0XHRpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZXJyb3JcIikpIHtcblx0XHRcdGVycm9yQ291bnQrK1xuXHRcdH1cblx0fSlcblxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93LXBvcHVwXCIpXG5cdFx0dXNlcm5hbWUudmFsdWUgPSBcIlwiXG5cdFx0ZW1haWwudmFsdWUgPSBcIlwiXG5cdFx0bWVzc2FnZS52YWx1ZSA9IFwiXCJcblx0XHRyZXR1cm4gdHJ1ZVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbmNvbnN0IGNsb3NlUG9wdXAgPSAoKSA9PiB7XG5cdHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LXBvcHVwXCIpXG5cdGNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybS1ib3hcIilcbn1cblxuY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlUG9wdXApXG5kb2N1bWVudFxuXHQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0LWZvcm1cIilcblx0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYXN5bmMgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG5cdFx0Y2hlY2tGb3JtKFt1c2VybmFtZSwgZW1haWwsIG1lc3NhZ2VdKVxuXHRcdGNoZWNrTGVuZ3RoKHVzZXJuYW1lLCAyKVxuXHRcdGNoZWNrRW1haWwoZW1haWwpXG5cdFx0aWYgKCFjaGVja0Vycm9ycygpKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiLi4vLi4vY29udGFjdC1mb3JtLWhhbmRsZXIucGhwXCIsIHtcblx0XHRcdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcblx0XHRcdFx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZS52YWx1ZSxcblx0XHRcdFx0XHRcdGVtYWlsOiBlbWFpbC52YWx1ZSxcblx0XHRcdFx0XHRcdHRleHRhcmVhOiBtZXNzYWdlLnZhbHVlLFxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdGlmIChyZXNwb25zZS5vaykge1xuXHRcdFx0XHRcdGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKVxuXHRcdFx0XHRcdGlmIChyZXNwb25zZURhdGEgPT09IFwiRHppxJlrdWrEmSEgVHdvamEgd2lhZG9tb8WbxIcgem9zdGHFgmEgd3lzxYJhbmEuXCIpIHtcblx0XHRcdFx0XHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93LXBvcHVwXCIpXG5cdFx0XHRcdFx0XHR1c2VybmFtZS52YWx1ZSA9IFwiXCJcblx0XHRcdFx0XHRcdGVtYWlsLnZhbHVlID0gXCJcIlxuXHRcdFx0XHRcdFx0bWVzc2FnZS52YWx1ZSA9IFwiXCJcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YWxlcnQoXG5cdFx0XHRcdFx0XHRcdFwiV3lzdMSFcGnFgiBwcm9ibGVtIHogd3lzxYJhbmllbSBUd29qZWogd2lhZG9tb8WbY2kuIFByb3N6xJkgc3Byw7Nib3dhxIcgcG9ub3duaWUuXCJcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWxlcnQoXG5cdFx0XHRcdFx0XHRcIld5c3TEhXBpxYIgcHJvYmxlbSB6IHd5c8WCYW5pZW0gVHdvamVqIHdpYWRvbW/Fm2NpLiBQcm9zesSZIHNwcsOzYm93YcSHIHBvbm93bmllLlwiXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRhbGVydChcblx0XHRcdFx0XHRcIld5c3TEhXBpxYIgcHJvYmxlbSB6IHd5c8WCYW5pZW0gVHdvamVqIHdpYWRvbW/Fm2NpLiBQcm9zesSZIHNwcsOzYm93YcSHIHBvbm93bmllLlwiXG5cdFx0XHRcdClcblx0XHRcdH1cblx0XHR9XG5cdH0pXG4iXX0=
